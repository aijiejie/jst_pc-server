<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<label for="">
    <input type="text" id="keyword">
</label>

<h1 id="name"></h1>
<button id="btn">aa</button>

<!--<form action="http://127.0.0.1:3000/post_test" method="post">-->
<!--    <input type="text" name="kw">-->
<!--    <input type="submit" value="发送">-->
<!--</form>-->
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    let btn = document.getElementById('btn');
    let keyword = document.getElementById('keyword');
    // btn.onclick = function () {
    //     let inputValue = keyword.value;
    //     // 创建请求对象
    //     let xhr = new XMLHttpRequest();
    //     // 准备发送请求数据
    //     xhr.onreadystatechange = function () {
    //         // console.log(xhr.readyState);
    //
    //         if (xhr.readyState === 4) {
    //             console.log(xhr.status);
    //             if (xhr.status === 200) {
    //                 console.log(xhr.responseText);
    //             }
    //             // console.log(JSON.parse(xhr.responseText));
    //             // const {name, age} = JSON.parse(xhr.responseText);
    //             // console.log(name, age);
    //
    //         }
    //     };
    //
    //     // xhr.open('get', 'http://127.0.0.1:3000/search?kw=' + inputValue);
    //     xhr.open('post', 'http://127.0.0.1:3000/post_test');
    //
    //     // xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    //     xhr.setRequestHeader('Content-Type', 'application/json');
    //
    //     // xhr.send("name=sz");
    //     // xhr.send('{"name" :"sz"}');
    //     xhr.send(`{"name" :"sz"}`);
    // }

    btn.onclick = function () {
        let inputValue = keyword.value;
        // axios.get('http://127.0.0.1:3000/search?kw=' + inputValue).then(function (response) {
        //     console.log(response);
        // });
        axios.get('http://127.0.0.1:3000/search?kw=' + inputValue)
            .then(function (response) {
                // handle success
                console.log(response);
            })
            .catch(function (error) {
                // handle error
                console.log(error);
            })
            .then(function () {
                // always executed
            });
    }
</script>
</html>